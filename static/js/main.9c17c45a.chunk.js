(this.webpackJsonpmytodo=this.webpackJsonpmytodo||[]).push([[0],{132:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var n=a(9),c=a(0),o=a.n(c),s=a(15),i=a.n(s),r=(a(132),a(83)),l=a(106),d=a.n(l),u=a(24),h=a(56),j=a(188),b=a(108),m=a(109),O=a(65),f=a(116),g=a(115),p=a(196),v=a(90),x=a(23),D=a(195),y=a(199),C=a(194),S=(a(143),a(192)),T=a(193),I=(a(144),u.a.initializeApp({apiKey:"AIzaSyDbzJdNUVi7RB0kP9g2Aqtyb_BE5MfcECg",authDomain:"mytodosapp-a180b.firebaseapp.com",projectId:"mytodosapp-a180b",storageBucket:"mytodosapp-a180b.appspot.com",messagingSenderId:"315347951592",appId:"1:315347951592:web:5ca86198577918248c4e5d"}),u.a.firestore()),w=a(114),N=a.n(w);var k=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],o=t[1];return Object(c.useEffect)((function(){!function(){if(null!==u.a.auth().currentUser){var e=u.a.auth().currentUser.uid;I.collection("users").doc(e).collection("todos").onSnapshot((function(e){o(e.docs.map((function(e){return{id:e.id,todo:e.data().todo,progress:e.data().progress,time:e.data().time,date:e.data().date}})))}))}}()}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"todoList",children:Object(n.jsx)(j.a,{children:a.map((function(e){return Object(n.jsxs)(S.a,{children:[Object(n.jsx)(T.a,{primary:e.todo,secondary:e.progress?"Inprogress":"Completed"}),Object(n.jsx)(T.a,{primary:e.date,secondary:e.time}),Object(n.jsx)(C.a,{onClick:function(){return function(e){if(null!==u.a.auth().currentUser){var t=u.a.auth().currentUser.uid;I.collection("users").doc(t).collection("todos").doc(e.id).update({progress:!e.progress})}}(e)},children:e.progress?"Done":"Undone"}),Object(n.jsx)(N.a,{onClick:function(){return function(e){if(null!==u.a.auth().currentUser){var t=u.a.auth().currentUser.uid;I.collection("users").doc(t).collection("todos").doc(e.id).delete()}}(e)}})]})}))})})})},A=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={selectedDate:new Date,whatToDo:"",rows:[]},n.HandleDateChange=n.HandleDateChange.bind(Object(O.a)(n)),n.HandlewhatToDoChange=n.HandlewhatToDoChange.bind(Object(O.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n}return Object(m.a)(a,[{key:"HandleDateChange",value:function(e){this.setState({selectedDate:e})}},{key:"HandlewhatToDoChange",value:function(e){this.setState({whatToDo:e.target.value})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),null!==u.a.auth().currentUser){var t=u.a.auth().currentUser.uid;I.collection("users").doc(t).collection("todos").add({progress:!0,timestamp:u.a.firestore.FieldValue.serverTimestamp(),todo:this.state.whatToDo,date:this.state.selectedDate.toLocaleDateString(),time:this.state.selectedDate.toLocaleTimeString()}).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{className:"form_container",onSubmit:this.handleSubmit,children:[Object(n.jsx)("div",{className:"whatToDo",children:Object(n.jsx)(p.a,{label:"What to do",variant:"filled",value:this.whatToDo,onChange:this.HandlewhatToDoChange})}),Object(n.jsx)("div",{className:"WhenToDo",children:Object(n.jsx)(x.a,{utils:v.a,children:Object(n.jsx)(D.a,{id:"Date-selector",lable:"Date",format:"dd/MM/yyyy",value:this.state.selectedDate,onChange:this.HandleDateChange,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(n.jsx)("div",{className:"time_selector",children:Object(n.jsx)(x.a,{utils:v.a,children:Object(n.jsx)(y.a,{id:"Time-selector",lable:"Time",value:this.state.selectedDate,onChange:this.HandleDateChange,KeyboardButtonProps:{"aria-label":"change time"}})})}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{type:"submit",variant:"contained",color:"primary",size:"small",children:"Add"})})]}),Object(n.jsx)(k,{})]})}}]),a}(c.Component);a(156);var H=function(e){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("div",{className:"logoutbutton",children:Object(n.jsx)("button",{onClick:function(){return u.a.auth().signOut()},children:"Logout"})}),Object(n.jsx)("h1",{className:"header_title",children:"My ToDo's"})]})},U=(a(157),{signInFlow:"popup",signInOptions:[u.a.auth.GoogleAuthProvider.PROVIDER_ID,u.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}}),B=Object(h.a)({root:{minWidth:400,maxHeight:1e3,marginTop:100,marginBottom:150}});var P=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],o=t[1],s=B();return Object(c.useEffect)((function(){u.a.auth().onAuthStateChanged((function(e){o(!!e)}))}),[]),Object(n.jsx)("div",{className:"login",children:a?Object(n.jsxs)("div",{className:"header_form",children:[Object(n.jsx)(H,{}),Object(n.jsx)(A,{})]}):Object(n.jsxs)(j.a,{className:s.root,children:[Object(n.jsx)("h2",{className:"signInTitle",children:"Sign In"}),Object(n.jsx)("div",{className:"signInButton",children:Object(n.jsx)(d.a,{uiConfig:U,firebaseAuth:u.a.auth()})})]})})};var E=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(P,{})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,201)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),o(e),s(e)}))};i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),_()}},[[158,1,2]]]);
//# sourceMappingURL=main.9c17c45a.chunk.js.map